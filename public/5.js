(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{22:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(1);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={props:{items:{type:Array,require:!0},dataToList:{type:Array,require:!0},newItemBtnLable:{type:String},maxDialogsWidth:{type:String,default:"500px"},itemDeleteable:{type:Boolean},itemEditable:{type:Boolean},itemHasDetails:{type:Boolean},deleteConfirmMsg:{type:String,default:"Are you sure you want to delete?"}},created:function(){this.headers=this.dataToList.map((function(e,t){var a={text:e,value:e};return 0==t&&(a=l({},a,{align:"start"})),a})),this.itemManagable&&this.headers.push({text:"Actions",value:"actions",align:"end",sortable:!1})},data:function(){return{headers:[],detailsDialog:!1,editDialog:!1,newItemDialog:!1,selectedItem:null}},methods:{editItem:function(e){this.selectedItem=l({},e),this.editDialog=!0},deleteItem:function(e){confirm(this.deleteConfirmMsg)&&(this.selectedItem=l({},e),this.$emit("deleteItem",e))},showItem:function(e){this.selectedItem=l({},e),this.detailsDialog=!0},closeDialog:function(e){if(!this[e])throw new Error('Dialog name does not exist! avalibal dialogs names: "detailsDialog, editDialog, newItemDialog"');this[e]=!1}},components:{},computed:l({},Object(r.c)("global",["isMobile"]),{itemManagable:function(){return this.itemDeleteable||this.itemEditable||this.itemHasDetails}})},m=a(3),u=Object(m.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.items},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-spacer"),e._v(" "),e.itemHasDetails?a("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},model:{value:e.detailsDialog,callback:function(t){e.detailsDialog=t},expression:"detailsDialog"}},[a("v-card",{staticClass:"pb-2"},[e._t("detailsDialog",null,{item:e.selectedItem,close:e.closeDialog})],2)],1):e._e(),e._v(" "),e.itemEditable?a("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("v-card",{staticClass:"pb-2"},[e._t("editDialog",null,{item:e.selectedItem,close:e.closeDialog})],2)],1):e._e(),e._v(" "),e.newItemBtnLable?a("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{color:"primary"}},i),[e.isMobile?[a("v-icon",[e._v("mdi-plus")])]:[e._v(e._s(e.newItemBtnLable)+"\n                        ")]],2)]}}],null,!1,4118125552),model:{value:e.newItemDialog,callback:function(t){e.newItemDialog=t},expression:"newItemDialog"}},[e._v(" "),a("v-card",{staticClass:"pb-2"},[e._t("newItemDialog",null,{close:e.closeDialog})],2)],1):e._e()],1)]},proxy:!0},e.itemManagable?{key:"item.actions",fn:function(t){var i=t.item;return[e.itemHasDetails?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.showItem(i)}}},[e._v("\n            mdi-eye\n        ")]):e._e(),e._v(" "),e.itemEditable?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v("\n            mdi-pencil\n        ")]):e._e(),e._v(" "),e.itemDeleteable?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("\n            mdi-delete\n        ")]):e._e()]}}:null,{key:"no-data",fn:function(){return[a("h3",[e._v("No Data Found!")])]},proxy:!0}],null,!0)})}),[],!1,null,"09d41e24",null).exports,d=a(10),v=a.n(d);function p(e,t,a,i,n,r,s){try{var l=e[r](s),o=l.value}catch(e){return void a(e)}l.done?t(o):Promise.resolve(o).then(i,n)}function b(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function s(e){p(r,i,n,s,l,"next",e)}function l(e){p(r,i,n,s,l,"throw",e)}s(void 0)}))}}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w={name:"admin-projects-registableProjects",created:function(){this.request("all")},data:function(){return{registableProjects:[],newRegistableProject:{range:[2,4],isOpen:!0}}},methods:f({},Object(r.b)("data",["request","addNewItemTo","deleteItemBy","updateItemBy"]),{updateRegistableProject:function(e,t){var a=this;return b(n.a.mark((function i(){var r,s,l,o;return n.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!confirm("Are you sure you want to save changes?")){i.next=10;break}return r=a.getBy,s=new v.a({id:e.id,department_id:r("id","departments","title",e.department),year_id:r("id","years","title",e.year),is_open:e.is_open,range:e.range,title:e.title}),t("editDialog"),i.next=7,s.put("/api/putTest");case 7:l=i.sent,o=l.data,a.updateItemBy({from:"registableProjects",by:"id",value:e.id,item:o});case 10:case"end":return i.stop()}}),i)})))()},createNewRegistableProject:function(e){var t=this;return b(n.a.mark((function a(){var i,r,s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.getBy,r=new v.a({department_id:i("id","departments","title",t.newRegistableProject.department),year_id:i("id","years","title",t.newRegistableProject.year),is_open:t.newRegistableProject.isOpen,range:t.newRegistableProject.range,title:t.newRegistableProject.title}),e("newItemDialog"),a.next=5,r.post("/api/postTest");case 5:s=a.sent,t.addNewItemTo({what:"registableProjects",item:s.data}),t.newRegistableProject={range:[2,4],isOpen:!0};case 8:case"end":return a.stop()}}),a)})))()},deleteItem:function(e){var t=this;return b(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:axios.delete("/api/deleteTest",{data:{id:e.id}}).then((function(a){console.log(a.data),t.deleteItemBy({from:"registableProjects",by:"id",value:e.id})}));case 1:case"end":return a.stop()}}),a)})))()}}),computed:f({},Object(r.c)("data",["getListOf","getBy","getAll"]),{listOfItems:function(){var e=this;return this.getAll("registableProjects").map((function(t){return f({},t,{department:e.getBy("title","departments","id",t.department_id),year:e.getBy("title","years","id",t.year_id),range:[t.groups_setting.min_group_members_count,t.groups_setting.max_group_members_count],minGM:t.groups_setting.min_group_members_count,maxGM:t.groups_setting.max_group_members_count,open:t.is_open?"YES":"NO"})}))}}),components:{DataList:u}},y=Object(m.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"p-0"},[a("v-row",[a("v-col",[a("data-list",{attrs:{items:e.listOfItems,dataToList:["title","open","department","year","minGM","maxGM"],newItemBtnLable:"Create Registable Project",maxDialogsWidth:"800px",itemHasDetails:"",itemEditable:"",itemDeleteable:""},on:{deleteItem:e.deleteItem},scopedSlots:e._u([{key:"detailsDialog",fn:function(t){var i=t.item;return[i?[a("v-card-title",{staticClass:"primary text-white"},[e._v("\n                            Project: \n                            "),a("span",{staticStyle:{color:"#22ff11"}},[e._v(e._s(i.title))])]),e._v(" "),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-list-item-title",[a("v-icon",[e._v("mdi-office-building")]),e._v("\n                                        Departmnet: \n                                        "),a("span",{staticStyle:{color:"#22ff11"}},[e._v("\n                                            "+e._s(i.department)+"\n                                        ")])],1)],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Year: \n                                        "+e._s(i.year))])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("\n                                        Every Group has to consist of (\n                                        "+e._s(i.minGM)+" -\n                                        "+e._s(i.maxGM)+" ) Students\n                                    ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Created: \n                                        "+e._s(i.created_at)+"\n                                    ")])],1)],1)],1)]:e._e()]}},{key:"editDialog",fn:function(t){var i=t.item,n=t.close;return[i?[a("v-card-title",{staticClass:"primary text-white"},[e._v("\n                            Project: \n                            "),a("span",{staticStyle:{color:"#22ff11"}},[e._v(e._s(i.title))])]),e._v(" "),a("v-card-text",[a("v-form",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"text",label:"Title"},model:{value:i.title,callback:function(t){e.$set(i,"title",t)},expression:"item.title"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.getListOf("title","departments"),label:"Department"},model:{value:i.department,callback:function(t){e.$set(i,"department",t)},expression:"item.department"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.getListOf("title","years"),label:"Year"},model:{value:i.year,callback:function(t){e.$set(i,"year",t)},expression:"item.year"}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-checkbox",{attrs:{label:"Set As Open",dense:""},model:{value:i.is_open,callback:function(t){e.$set(i,"is_open",t)},expression:"item.is_open"}})],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-row",[a("v-col",[a("h3",[e._v("Groups Settings")])])],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("h5",[e._v("Groups Members Range")])]),e._v(" "),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-range-slider",{attrs:{min:"1",max:"7","thumb-label":"always","thumb-size":"20"},model:{value:i.range,callback:function(t){e.$set(i,"range",t)},expression:"item.range"}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"blue"},on:{click:function(t){return e.updateRegistableProject(i,n)}}},[e._v("Save")])],1)]:e._e()]}},{key:"newItemDialog",fn:function(t){var i=t.close;return[a("v-card-title",{staticClass:"primary text-white"},[e._v("\n                        Create New Registable Project\n                    ")]),e._v(" "),a("v-card-text",[a("v-form",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{type:"text",label:"Title"},model:{value:e.newRegistableProject.title,callback:function(t){e.$set(e.newRegistableProject,"title",t)},expression:"\n                                                newRegistableProject.title\n                                            "}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.getListOf("title","departments"),label:"Department"},model:{value:e.newRegistableProject.department,callback:function(t){e.$set(e.newRegistableProject,"department",t)},expression:"\n                                                newRegistableProject.department\n                                            "}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.getListOf("title","years"),label:"Year"},model:{value:e.newRegistableProject.year,callback:function(t){e.$set(e.newRegistableProject,"year",t)},expression:"\n                                                newRegistableProject.year\n                                            "}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-checkbox",{attrs:{label:"Set As Open",dense:""},model:{value:e.newRegistableProject.isOpen,callback:function(t){e.$set(e.newRegistableProject,"isOpen",t)},expression:"\n                                                newRegistableProject.isOpen\n                                            "}})],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-row",[a("v-col",[a("h3",[e._v("Groups Settings")])])],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("h5",[e._v("Groups Members Range")])]),e._v(" "),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-range-slider",{attrs:{min:"1",max:"7","thumb-label":"always","thumb-size":"20"},model:{value:e.newRegistableProject.range,callback:function(t){e.$set(e.newRegistableProject,"range",t)},expression:"\n                                                newRegistableProject.range\n                                            "}})],1)],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"blue"},on:{click:function(t){return e.createNewRegistableProject(i)}}},[e._v("Save")])],1)]}}])})],1)],1)],1)}),[],!1,null,"fb2c93ea",null);t.default=y.exports}}]);