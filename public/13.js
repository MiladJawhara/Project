(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{41:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=(r(13),r(9)),o=r.n(s),i=r(2),c=r(11),l=r(5);function u(e,t,r,n,a,s,o){try{var i=e[s](o),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object(l.c)("required",m({},c.f,{message:"{_field_} can't be empty!"})),Object(l.c)("email",m({},c.d,{message:"Please enter a valid email address"})),Object(l.c)("min",{validate:function(e,t){var r=t.min;return e.length>=r},params:["min"],message:"The {_field_} field must have at least {min} characters "}),Object(l.c)("alpha_dash",m({},c.b)),Object(l.c)("alpha",m({},c.a)),Object(l.c)("digits",m({},c.c,{message:"The {_field_} field must consest of just {length} digits "})),Object(l.c)("numeric",m({},c.e,{message:"The {_field_}  field may only contain numeric characters"})),Object(l.c)("minmax",{validate:function(e,t){var r=t.min,n=t.max;return e.length>=r&&e.length<=n},params:["min","max"],message:"The {_field_} field must have at least {min} characters and {max} characters at most"}),Object(l.c)("password",{params:["target"],validate:function(e,t){return e===t.target},message:"Password confirmation does not match"});var v={name:"Register",middleware:"guest",requiredData:["years","departments"],created:function(){},mounted:function(){},data:function(){return{newAccount:{department:"none"},showPassword:!1,accountTypes:["Student","Supervisor"],progressing:!1,snackbarMessage:"",createUserSuccess:!1,snackbar:!1}},watch:{},computed:m({yearTitleList:function(){return this.getListOf("title","years")},deptsTitleList:function(){return this.getListOf("title","departments")}},Object(i.c)("global",["isMobile"]),{},Object(i.c)("data",["getListOf","getBy"])),methods:{createNewAccount:function(){var e,t=this;return(e=a.a.mark((function e(){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.progressing){e.next=2;break}return e.abrupt("return");case 2:return t.progressing=!0,r=new o.a(m({},t.newAccount,{department_id:t.getBy("id","departments","title",t.newAccount.department),year_id:t.getBy("id","years","title",t.newAccount.year_of_study)})),e.prev=4,e.next=7,r.post("/api/auth/register");case 7:e.sent.data,t.$router.push({name:"login"}),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(4),n=r.errors.errors,t.createUserSuccess=!1,t.snackbarMessage=n[Object.keys(n)[0]][0],t.snackbar=!0;case 18:return e.prev=18,t.progressing=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,12,18,21]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){u(s,n,a,o,i,"next",e)}function i(e){u(s,n,a,o,i,"throw",e)}o(void 0)}))})()}},components:{ValidationProvider:l.b,ValidationObserver:l.a}},f=r(1),w=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:e.isMobile?12:8}},[r("v-card",[r("v-card-title",{staticClass:"bg-primary"},[e._v("Create New Account")]),e._v(" "),r("v-card-text",[r("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;var n=t.handleSubmit;return[r("v-form",[r("v-container",{staticClass:"pl-0 pr-0"},[r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|alpha|minmax:2,15",name:"First Name"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:"text",label:"First Name",title:"Your First Name","prepend-icon":"mdi-card-text-outline"},model:{value:e.newAccount.f_name,callback:function(t){e.$set(e.newAccount,"f_name",t)},expression:"newAccount.f_name"}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|alpha|minmax:2,15",name:"Last Name"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:"text",label:"Last Name",title:"Your Last Name","prepend-icon":"mdi-card-text-outline"},model:{value:e.newAccount.l_name,callback:function(t){e.$set(e.newAccount,"l_name",t)},expression:"newAccount.l_name"}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|email",name:"E-mail"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{type:"email","error-messages":n,label:"E-mail",title:"Your Email Address","prepend-icon":"mdi-email"},model:{value:e.newAccount.email,callback:function(t){e.$set(e.newAccount,"email",t)},expression:"newAccount.email"}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|min:8|alpha_dash|password:@Confirm",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:e.showPassword?"text":"password",label:"Password",title:"Enter New Password","prepend-icon":"mdi-key-outline","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.newAccount.password,callback:function(t){e.$set(e.newAccount,"password",t)},expression:"\n                                                    newAccount.password\n                                                "}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|alpha_dash",name:"Confirm"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:e.showPassword?"text":"password",label:"Confirm Password",title:"Confirm The Password You Have Entered!","prepend-icon":"mdi-key-plus"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.newAccount.password_confirmation,callback:function(t){e.$set(e.newAccount,"password_confirmation",t)},expression:"\n                                                    newAccount.password_confirmation\n                                                "}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|digits:11",name:"National ID"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:"text",label:"National ID",title:"Your National ID","prepend-icon":"mdi-id-card"},model:{value:e.newAccount.national_id,callback:function(t){e.$set(e.newAccount,"national_id",t)},expression:"\n                                                    newAccount.national_id\n                                                "}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("v-select",{attrs:{"prepend-icon":"mdi-office-building",label:"Department",dense:"",items:e.deptsTitleList},model:{value:e.newAccount.department,callback:function(t){e.$set(e.newAccount,"department",t)},expression:"newAccount.department"}})],1)],1),e._v(" "),[r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required",name:"Year Of Study"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-select",{attrs:{"prepend-icon":"mdi-timetable",label:"Year Of Study","error-messages":n,dense:"",items:e.yearTitleList},model:{value:e.newAccount.year_of_study,callback:function(t){e.$set(e.newAccount,"year_of_study",t)},expression:"\n                                                        newAccount.year_of_study\n                                                    "}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("ValidationProvider",{attrs:{rules:"required|numeric",name:"University ID"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("v-text-field",{attrs:{"error-messages":n,type:"text",label:"University ID",title:"Your University ID","prepend-icon":"mdi-id-card"},model:{value:e.newAccount.university_id,callback:function(t){e.$set(e.newAccount,"university_id",t)},expression:"\n                                                        newAccount.university_id\n                                                    "}})]}}],null,!0)})],1)],1)],e._v(" "),r("v-row",[r("v-col",{attrs:{cols:e.isMobile?12:"auto"}},[r("router-link",{attrs:{to:{name:"login"}}},[e._v("have an account already?\n                                            login")])],1),e._v(" "),r("v-col",[r("v-btn",{staticStyle:{float:"right"},attrs:{block:e.isMobile,color:"primary",disabled:e.progressing},on:{click:function(t){return t.preventDefault(),n(e.createNewAccount)}}},[e.progressing?[r("v-progress-circular",{attrs:{color:"wihte",indeterminate:""}})]:e._e(),e._v(" "),e.progressing?e._e():[e._v("Create")]],2)],1)],1)],2)],1)]}}])})],1)],1)],1)],1),e._v(" "),r("v-snackbar",{attrs:{color:e.createUserSuccess?"#0c3":"#c03",timeout:6e3,buttom:"","multi-line":e.isMobile,right:!e.isMobile},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarMessage)+"\n        "),r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)}),[],!1,null,"00483855",null);t.default=w.exports}}]);