(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{12:function(e,t,r){"use strict";var i=r(2);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={props:{items:{type:Array,require:!0},dataToList:{type:Array,require:!0},dataTitles:{type:Array},newItemBtnLable:{type:String},maxDialogsWidth:{type:String,default:"500px"},itemDeleteable:{type:Boolean},itemEditable:{type:Boolean},itemHasDetails:{type:Boolean},deleteConfirmMsg:{type:String,default:"Are you sure you want to delete?"},searchable:{type:Boolean}},created:function(){var e=this;this.dataToList&&(this.headers=this.dataToList.map((function(t,r){var i={text:e.dataTitles&&e.dataTitles[r]?e.dataTitles[r]:t,value:t};return 0==r&&(i=n({},i,{align:"start"})),i})),this.itemManagable&&this.headers.push({text:"Actions",value:"actions",align:"end",sortable:!1}))},data:function(){return{headers:[],detailsDialog:!1,editDialog:!1,newItemDialog:!1,selectedItem:null,currentDialog:"newItemDialog",search:""}},methods:{editItem:function(e){this.selectedItem=n({},e),this.editDialog=!0},deleteItem:function(e){confirm(this.deleteConfirmMsg)&&(this.selectedItem=n({},e),this.$emit("deleteItem",e))},showItem:function(e){this.selectedItem=n({},e),this.detailsDialog=!0},closeNewItemDialog:function(){this.newItemDialog=!1},closeEditDialog:function(){this.editDialog=!1},closeDetailsDialog:function(){this.detailsDialog=!1}},components:{},computed:n({},Object(i.c)("global",["isMobile"]),{itemManagable:function(){return this.itemDeleteable||this.itemEditable||this.itemHasDetails}})},l=(r(53),r(1)),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:" m-0 p-0"},[r("v-row",{attrs:{justify:"center",dense:""}},[e.searchable?r("v-col",{staticClass:"m-0 p-0",attrs:{cols:"12",sm:"8",md:"6"}},[r("v-toolbar-items",[r("v-text-field",{staticClass:"m-0 p-0",attrs:{type:"text",label:"Search",dense:"","append-icon":"mdi-magnify",outlined:"",height:"20px"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1):e._e(),e._v(" "),r("v-col",{staticClass:"mt-0 p-0",attrs:{cols:"12"}},[r("v-data-table",{staticClass:"elevation-2",attrs:{search:e.search,headers:e.headers,items:e.items},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),e._v(" "),e.itemHasDetails?r("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},model:{value:e.detailsDialog,callback:function(t){e.detailsDialog=t},expression:"detailsDialog"}},[r("v-card",{staticClass:"pb-2"},[r("v-icon",{staticClass:"close-mark",on:{click:function(t){return e.closeDetailsDialog()}}},[e._v("mdi-close")]),e._v(" "),e._t("detailsDialog",null,{item:e.selectedItem,close:e.closeDetailsDialog})],2)],1):e._e(),e._v(" "),e.itemEditable?r("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[r("v-card",{staticClass:"pb-2"},[r("v-icon",{staticClass:"close-mark",on:{click:function(t){return e.closeEditDialog()}}},[e._v("mdi-close")]),e._v(" "),e._t("editDialog",null,{item:e.selectedItem,close:e.closeEditDialog})],2)],1):e._e(),e._v(" "),e.newItemBtnLable?r("v-dialog",{attrs:{"max-width":e.maxDialogsWidth},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[r("v-btn",e._g({attrs:{color:"primary"}},i),[e.isMobile?[r("v-icon",[e._v("mdi-plus")])]:[e._v(e._s(e.newItemBtnLable)+"\n                                    ")]],2)]}}],null,!1,1350980592),model:{value:e.newItemDialog,callback:function(t){e.newItemDialog=t},expression:"newItemDialog"}},[e._v(" "),r("v-card",{staticClass:"pb-2"},[r("v-icon",{staticClass:"close-mark",on:{click:function(t){return e.closeNewItemDialog()}}},[e._v("mdi-close")]),e._v(" "),e._t("newItemDialog",null,{close:e.closeNewItemDialog})],2)],1):e._e()],1)]},proxy:!0},e.itemManagable?{key:"item.actions",fn:function(t){var i=t.item;return[e.itemHasDetails?r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.showItem(i)}}},[e._v("\n                        mdi-eye\n                    ")]):e._e(),e._v(" "),e.itemEditable?r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v("\n                        mdi-pencil\n                    ")]):e._e(),e._v(" "),e.itemDeleteable?r("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("\n                        mdi-delete\n                    ")]):e._e()]}}:null,{key:"no-data",fn:function(){return[r("h3",[e._v("No Data Found!")])]},proxy:!0}],null,!0)})],1)],1)],1)}),[],!1,null,"86ab815c",null);t.a=c.exports},18:function(e,t,r){var i=r(54);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(15)(i,a);i.locals&&(e.exports=i.locals)},39:function(e,t,r){"use strict";r.r(t);var i=r(0),a=r.n(i),n=(r(9),r(2)),s=r(31),o=r(8),l=r(12);function c(e,t,r,i,a,n,s){try{var o=e[n](s),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var n=e.apply(t,r);function s(e){c(n,i,a,s,o,"next",e)}function o(e){c(n,i,a,s,o,"throw",e)}s(void 0)}))}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={mixins:[s.validationMixin],validations:{f_name:{required:o.required,maxLength:Object(o.maxLength)(10)},l_name:{required:o.required,maxLength:Object(o.maxLength)(10)},email:{required:o.required,email:o.email},Dept:{required:o.required},national_id:{required:o.required,minLength:Object(o.minLength)(11)},password:{required:o.required,minLength:Object(o.minLength)(10)},password_confirmation:{sameAsPassword:Object(o.sameAs)("password")},validationGroup:["f_name","l_name","email","Dept","national_id","password","password_confirmation"]},name:"admin-supervisors-supervisorsList",requiredData:["departments","supervisors"],data:function(){return{newSupervisor:{},showPassword:!1}},components:{DataList:l.a},methods:d({},Object(n.b)("data",["request","addNewItemTo","deleteItemBy"]),{createNewSupervisor:function(e){var t=this;return u(a.a.mark((function r(){var i,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e(),r.next=3,axios.post("/api/supervisors",{f_name:t.newSupervisor.f_name,l_name:t.newSupervisor.l_name,email:t.newSupervisor.email,national_id:t.newSupervisor.national_id,password:t.newSupervisor.password,password_confirmation:t.newSupervisor.password_confirmation,department_id:t.getBy("id","departments","title",t.newSupervisor.Dept)});case 3:i=r.sent,n=i.data,t.addNewItemTo({what:"supervisors",item:n});case 6:case"end":return r.stop()}}),r)})))()},deleteSupervisor:function(e){var t=this;return u(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,axios.delete("/api/supervisors/".concat(e.id));case 2:t.deleteItemBy({from:"supervisors",by:"id",value:e.id});case 3:case"end":return r.stop()}}),r)})))()}}),computed:d({},Object(n.c)("data",["getAll","getListOf","getBy"]),{},Object(n.c)("global",["isMobile"]),{items:function(){var e=this.getBy;return(0,this.getAll)("supervisors").map((function(t){return d({},t,{Dept:e("title","departments","id",t.department_id),First_Name:t.f_name,Last_Name:t.l_name,National_number:t.national_id,Private_Email:t.email,emailVerified:t.email_verified_at?"Yes":"No"})}))},deptErrors:function(){var e=[];return this.$v.Dept.$dirty?(!this.$v.Dept.required&&e.push("Department is required"),e):e},f_nameErrors:function(){var e=[];return this.$v.f_name.$dirty?(!this.$v.f_name.maxLength&&e.push("First Name must be at most 10 characters long"),!this.$v.f_name.required&&e.push("First Name is required."),e):e},l_nameErrors:function(){var e=[];return this.$v.l_name.$dirty?(!this.$v.l_name.maxLength&&e.push("Last Name must be at most 10 characters long"),!this.$v.l_name.required&&e.push("Last Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e},nationalNumberErrorsErrors:function(){var e=[];return this.$v.national_id.$dirty?(!this.$v.national_id.minLength&&e.push("it must be more than 11 numbers"),!this.$v.national_id.required&&e.push("National Number is required"),e):e}})},f=r(1),h=Object(f.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("data-list",{attrs:{items:e.items,dataTitles:["First Name","Last Name","Department"],dataToList:["f_name","l_name","Dept"],itemEditable:"",itemDeleteable:"",itemHasDetails:"",searchable:"",newItemBtnLable:"Create New Supervisor",maxDialogsWidth:"800px"},on:{deleteItem:e.deleteSupervisor},scopedSlots:e._u([{key:"newItemDialog",fn:function(t){var i=t.close;return[r("v-card-title",{staticClass:"primary text-white"},[e._v("\n                        Create New Supervisor\n                    ")]),e._v(" "),r("v-card-text",[r("v-form",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"First Name",type:"text","error-messages":e.f_nameErrors,required:""},on:{change:function(t){return e.$v.f_name.$touch()},blur:function(t){return e.$v.f_name.$touch()}},model:{value:e.newSupervisor.f_name,callback:function(t){e.$set(e.newSupervisor,"f_name",t)},expression:"newSupervisor.f_name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Last Name",type:"text","error-messages":e.l_nameErrors,required:""},on:{change:function(t){return e.$v.l_name.$touch()},blur:function(t){return e.$v.l_name.$touch()}},model:{value:e.newSupervisor.l_name,callback:function(t){e.$set(e.newSupervisor,"l_name",t)},expression:"newSupervisor.l_name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{items:e.getListOf("title","departments"),label:"Department",required:""},on:{change:function(t){return e.$v.Dept.$touch()},blur:function(t){return e.$v.Dept.$touch()}},model:{value:e.newSupervisor.Dept,callback:function(t){e.$set(e.newSupervisor,"Dept",t)},expression:"newSupervisor.Dept"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Email",type:"text","error-messages":e.emailErrors,required:""},on:{change:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.newSupervisor.email,callback:function(t){e.$set(e.newSupervisor,"email",t)},expression:"newSupervisor.email"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{type:e.showPassword?"text":"password",label:"Password",title:"password","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye","prepend-icon":"mdi-key-outline","error-messages":e.passwordErrors,required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},change:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.newSupervisor.password,callback:function(t){e.$set(e.newSupervisor,"password",t)},expression:"newSupervisor.password"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{type:e.showPassword?"text":"password",label:"Confirm Password",title:"Confirm password","prepend-icon":"mdi-key-outline","error-messages":e.passwordConfirmErrors,required:""},on:{change:function(t){return e.$v.password_confirmation.$touch()},blur:function(t){return e.$v.password_confirmation.$touch()}},model:{value:e.newSupervisor.password_confirmation,callback:function(t){e.$set(e.newSupervisor,"password_confirmation",t)},expression:"\n                                                newSupervisor.password_confirmation\n                                            "}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"National Number",type:"text","error-messages":e.nationalNumberErrors,required:""},on:{change:function(t){return e.v.national_id.$touch()},blur:function(t){return e.$v.national_id.$touch()}},model:{value:e.newSupervisor.national_id,callback:function(t){e.$set(e.newSupervisor,"national_id",t)},expression:"\n                                                newSupervisor.national_id\n                                            "}})],1)],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"blue",text:""},on:{click:function(t){return e.createNewSupervisor(i)}}},[e._v("Save")])],1)]}},{key:"detailsDialog",fn:function(t){var i=t.item;return[i?[r("v-card-title",{staticClass:"primary text-white"},[e._v("\n                            "+e._s(i.f_name)+"'s Detials\n                        ")]),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",[r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{width:"100px",height:"100px"}},[r("v-img",{staticClass:"border rounded-circle",attrs:{"lazy-src":"https://randomuser.me/api/portraits/men/81.jpg",alt:i.f_name+"img",src:"https://randomuser.me/api/portraits/men/81.jpg"}})],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",{attrs:{title:"Go to "+i.f_name+"'s profile"}},[e._v("\n                                                        "+e._s(i.f_name+" "+i.l_name)+"\n                                                    ")]),e._v(" "),r("v-list-item-subtitle",[e._v(e._s(i.user_type))])],1)],1)],1)],1)],1),e._v(" "),r("v-row",[r("v-col",[r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-label",{staticClass:"text-bold"},[e._v("\n                                                            National Number:\n                                                        ")]),e._v("\n                                                        "+e._s(i.national_id)+"\n                                                    ")],1)],1)],1),e._v(" "),r("v-list-item",[r("v-list-item-title",[r("v-label",[e._v("\n                                                        Private Email:\n                                                    ")]),e._v("\n                                                    "+e._s(i.email)+"\n                                                ")],1)],1),e._v(" "),r("v-list-item",[r("v-list-item-title",[r("v-label",[e._v("\n                                                        Account Verified:\n                                                    ")]),e._v("\n                                                    "+e._s(i.emailVerified)+"\n                                                ")],1)],1)],1)],1)],1)],1)],1)]:e._e()]}}])})],1)],1)],1)}),[],!1,null,null,null);t.default=h.exports},53:function(e,t,r){"use strict";var i=r(18);r.n(i).a},54:function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".close-mark[data-v-86ab815c] {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  color: wheat;\n}",""])}}]);