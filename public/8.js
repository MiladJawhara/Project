(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{27:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),s=(t(9),t(10)),o=t.n(s),i=t(1),l=t(8),c=t(4);function u(e,r,t,a,n,s,o){try{var i=e[s](o),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(a,n)}function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){f(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object(c.c)("required",m({},l.f,{message:"{_field_} can't be empty!"})),Object(c.c)("email",m({},l.d,{message:"Please enter a valid email address"})),Object(c.c)("min",{validate:function(e,r){var t=r.min;return e.length>=t},params:["min"],message:"The {_field_} field must have at least {min} characters "}),Object(c.c)("alpha_dash",m({},l.b)),Object(c.c)("alpha",m({},l.a)),Object(c.c)("digits",m({},l.c,{message:"The {_field_} field must consest of just {length} digits "})),Object(c.c)("numeric",m({},l.e,{message:"The {_field_}  field may only contain numeric characters"})),Object(c.c)("minmax",{validate:function(e,r){var t=r.min,a=r.max;return e.length>=t&&e.length<=a},params:["min","max"],message:"The {_field_} field must have at least {min} characters and {max} characters at most"}),Object(c.c)("password",{params:["target"],validate:function(e,r){return e===r.target},message:"Password confirmation does not match"});var p={name:"Register",middleware:"guest",created:function(){var e=this;this.request("years").then((function(r){e.yearsOfStudy=r.map((function(e){return e.title}))})),this.request("departments").then((function(r){e.departmentsTitles=r.map((function(e){return e.title}))}))},data:function(){return{form:new o.a({user_type:"Student",department:"none"}),showPassword:!1,accountTypes:["Student","Supervisor"],yearsOfStudy:[],departmentsTitles:["none"],progressing:!1,snackbarMessage:"",snackbar:!1}},watch:{selectedAccountType:function(e){e==this.accountTypes[1]&&(void 0!==this.form.year_of_study&&delete this.form.year_of_study,void 0!==this.form.university_id&&delete this.form.university_id)}},computed:m({selectedAccountType:function(){return this.form.user_type}},Object(i.c)("global",["isMobile"])),methods:m({},Object(i.b)("data",["request"]),{createNewAccount:function(){var e,r=this;return(e=n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.progressing){e.next=2;break}return e.abrupt("return");case 2:return r.progressing=!0,e.prev=3,e.next=6,r.form.post("/api/auth/register");case 6:e.sent.data,r.snackbarMessage="Account created..Well done!!",r.snackbar=!0,r.$router.push({name:"login"}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),t=r.form.errors.errors,r.snackbarMessage=t[Object.keys(t)[0]][0],r.snackbar=!0;case 18:return e.prev=18,r.progressing=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,13,18,21]])})),function(){var r=this,t=arguments;return new Promise((function(a,n){var s=e.apply(r,t);function o(e){u(s,a,n,o,i,"next",e)}function i(e){u(s,a,n,o,i,"throw",e)}o(void 0)}))})()}}),components:{ValidationProvider:c.b,ValidationObserver:c.a}},v=t(3),b=Object(v.a)(p,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("v-col",{attrs:{cols:e.isMobile?12:8}},[t("v-card",[t("v-card-title",{staticClass:"bg-primary"},[e._v("Create New Account")]),e._v(" "),t("v-card-text",[t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(r){r.invalid;var a=r.handleSubmit;return[t("v-form",[t("v-container",{staticClass:"pl-0 pr-0"},[t("v-row",[t("v-col",[t("v-select",{attrs:{"prepend-icon":"mdi-account-cog-outline",label:"Account Type",dense:"",items:e.accountTypes},model:{value:e.form.user_type,callback:function(r){e.$set(e.form,"user_type",r)},expression:"form.user_type"}})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|alpha|minmax:2,15",name:"First Name"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:"text",label:"First Name",title:"Your First Name","prepend-icon":"mdi-card-text-outline"},model:{value:e.form.f_name,callback:function(r){e.$set(e.form,"f_name",r)},expression:"form.f_name"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|alpha|minmax:2,15",name:"Last Name"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:"text",label:"Last Name",title:"Your Last Name","prepend-icon":"mdi-card-text-outline"},model:{value:e.form.l_name,callback:function(r){e.$set(e.form,"l_name",r)},expression:"form.l_name"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|email",name:"E-mail"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{type:"email","error-messages":a,label:"E-mail",title:"Your Email Address","prepend-icon":"mdi-email"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|min:8|alpha_dash|password:@Confirm",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:e.showPassword?"text":"password",label:"Password",title:"Enter New Password","prepend-icon":"mdi-key-outline","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(r){e.showPassword=!e.showPassword}},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|alpha_dash",name:"Confirm"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:e.showPassword?"text":"password",label:"Confirm Password",title:"Confirm The Password You Have Entered!","prepend-icon":"mdi-key-plus"},on:{"click:append":function(r){e.showPassword=!e.showPassword}},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"\n                                                    form.password_confirmation\n                                                "}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|digits:11",name:"National ID"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:"text",label:"National ID",title:"Your National ID","prepend-icon":"mdi-id-card"},model:{value:e.form.national_id,callback:function(r){e.$set(e.form,"national_id",r)},expression:"form.national_id"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("v-select",{attrs:{"prepend-icon":"mdi-office-building",label:"Department",dense:"",items:e.departmentsTitles},model:{value:e.form.department,callback:function(r){e.$set(e.form,"department",r)},expression:"form.department"}})],1)],1),e._v(" "),"Student"==e.form.user_type?[t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required",name:"Year Of Study"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-select",{attrs:{"prepend-icon":"mdi-timetable",label:"Year Of Study","error-messages":a,dense:"",items:e.yearsOfStudy},model:{value:e.form.year_of_study,callback:function(r){e.$set(e.form,"year_of_study",r)},expression:"\n                                                        form.year_of_study\n                                                    "}})]}}],null,!0)})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("ValidationProvider",{attrs:{rules:"required|numeric",name:"University ID"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("v-text-field",{attrs:{"error-messages":a,type:"text",label:"University ID",title:"Your University ID","prepend-icon":"mdi-id-card"},model:{value:e.form.university_id,callback:function(r){e.$set(e.form,"university_id",r)},expression:"\n                                                        form.university_id\n                                                    "}})]}}],null,!0)})],1)],1)]:e._e(),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:e.isMobile?12:"auto"}},[t("router-link",{attrs:{to:{name:"login"}}},[e._v("have an account already?\n                                            login")])],1),e._v(" "),t("v-col",[t("v-btn",{staticStyle:{float:"right"},attrs:{block:e.isMobile,color:"primary",disabled:e.progressing},on:{click:function(r){return r.preventDefault(),a(e.createNewAccount)}}},[e.progressing?[t("v-progress-circular",{attrs:{color:"wihte",indeterminate:""}})]:e._e(),e._v(" "),e.progressing?e._e():[e._v("Create")]],2)],1)],1)],2)],1)]}}])})],1)],1)],1)],1),e._v(" "),t("v-snackbar",{attrs:{color:e.form.successful?"#0c3":"#c03",timeout:6e3,buttom:"","multi-line":e.isMobile,right:!e.isMobile},model:{value:e.snackbar,callback:function(r){e.snackbar=r},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarMessage)+"\n        "),t("v-btn",{attrs:{dark:"",text:""},on:{click:function(r){e.snackbar=!1}}},[e._v("\n            Close\n        ")])],1)],1)}),[],!1,null,"6eea9b8c",null);r.default=b.exports}}]);